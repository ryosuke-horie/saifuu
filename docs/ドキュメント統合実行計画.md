# ドキュメント統合実行計画

## 調査結果サマリー

### 1. 現状の確認結果

#### ドキュメント配置
- **README.md**: 基本的なセットアップ手順
- **CLAUDE.md**: 開発ルール（TDD、コミット規約、ドキュメント作成規約など）
- **.kiro/steering/**: 詳細な技術仕様
  - product.md: プロジェクト概要
  - structure.md: プロジェクト構造
  - tech.md: 技術スタック
- **docs/**: 既に充実したドキュメント群（目次付き）

#### 技術スタックの確認
- ✅ React 19.1.0
- ✅ Next.js 15.3.4  
- ✅ Tailwind CSS v4 (@tailwindcss/postcss)
- ✅ その他すべて正確

#### テスト戦略の関係性
- **CLAUDE.md**: TDD（開発手法）+ Tidy First（リファクタリング手法）
- **kiro/tech.md**: 砂時計型アプローチ（テスト配分）
- **docs/テスト/テストガイド.md**: テストピラミッド（現在の実装）
→ これらは補完的な関係にあり、矛盾はない

### 2. 主な課題
1. 同じ情報が複数箇所に分散・重複
2. 更新時の整合性維持が困難
3. 情報の参照先が不明確

## 統合実行計画

### Phase 1: kiroドキュメントの移行（優先度：高）

#### 1.1 プロジェクト概要の統合
```bash
# 新規作成
docs/プロジェクト概要.md
  ← .kiro/steering/product.md の内容
  ← README.md の概要部分
  ← CLAUDE.md の概要部分
```

#### 1.2 技術スタックの統合
```bash
# 新規作成
docs/技術スタック.md
  ← .kiro/steering/tech.md の内容（詳細版）
  ← CLAUDE.md の技術スタック部分
```

#### 1.3 プロジェクト構造の統合
```bash
# 新規作成
docs/プロジェクト構造.md
  ← .kiro/steering/structure.md の内容
  ← CLAUDE.md のプロジェクト構造部分
```

### Phase 2: 重複内容の整理（優先度：高）

#### 2.1 README.mdのスリム化
- 保持する内容：
  - 簡潔なプロジェクト説明（3行程度）
  - クイックスタート（初回セットアップ）
  - 基本的なコマンド（dev, build, test）
  - docs/への参照リンク
- 削除・移動する内容：
  - 詳細なデータベース管理 → docs/データベース/
  - 詳細なE2Eテスト説明 → docs/テスト/

#### 2.2 CLAUDE.mdの特化
- 保持する内容：
  - 開発ルール（コメント、コミット、署名）
  - TDDとTidy Firstの原則
  - AI固有の指示（ghost使用、ドキュメント作成規約）
  - バックグラウンドプロセス管理
- 削除・移動する内容：
  - プロジェクト概要 → docs/プロジェクト概要.md
  - 技術スタック詳細 → docs/技術スタック.md
  - プロジェクト構造 → docs/プロジェクト構造.md

### Phase 3: コマンドリファレンスの統合（優先度：中）

#### 3.1 コマンドリファレンス作成
```bash
# 新規作成
docs/コマンドリファレンス.md
  ← README.md のコマンド部分
  ← .kiro/steering/tech.md のコマンド部分
  ← CLAUDE.md のスクリプト部分
```

### Phase 4: テスト戦略の統合（優先度：高）

#### 4.1 テストガイドの更新
```bash
# 更新
docs/テスト/テストガイド.md
  + TDD原則（CLAUDE.mdから）
  + 砂時計型アプローチの説明（kiro/tech.mdから）
  + 既存のテストピラミッドとの関係性
```

### Phase 5: 相互参照の整備（優先度：中）

#### 5.1 README.mdに目次セクション追加
```markdown
## 📚 詳細ドキュメント

- [プロジェクト概要](./docs/プロジェクト概要.md)
- [技術スタック](./docs/技術スタック.md)
- [プロジェクト構造](./docs/プロジェクト構造.md)
- [開発ガイド](./CLAUDE.md)
- [全ドキュメント一覧](./docs/README.md)
```

#### 5.2 docs/README.mdの更新
- 新規追加ドキュメントへのリンク追加
- カテゴリの再整理

### Phase 6: クリーンアップ（優先度：低）

#### 6.1 .kiro/steeringディレクトリ
- 移行完了後、内容を確認してアーカイブ or 削除

#### 6.2 重複内容の最終確認
- 各ドキュメント間の重複チェック
- 参照リンクの動作確認

## 実行スケジュール

### 即時実行（今すぐ）
1. Phase 1: kiroドキュメントの移行
2. Phase 4: テスト戦略の統合

### 段階的実行（1週間以内）
3. Phase 2: 重複内容の整理
4. Phase 3: コマンドリファレンスの統合
5. Phase 5: 相互参照の整備

### 最終確認（2週間以内）
6. Phase 6: クリーンアップ

## 成功基準

- [ ] 情報の重複が解消されている
- [ ] 各ドキュメントの役割が明確
- [ ] 必要な情報へ3クリック以内でアクセス可能
- [ ] 更新箇所が一元化されている
- [ ] AIアシスタントが効率的に情報を参照できる

## リスクと対策

### リスク
- 移行中の情報の不整合
- 既存の参照リンクの破損

### 対策
- 段階的な移行（一度にすべて変更しない）
- 移行前のバックアップ作成
- PR単位での変更管理