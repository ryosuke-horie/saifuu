# 支出管理機能使用方法

## はじめに

Saifuuの支出管理機能を使用すると、日々の収入と支出を簡単に記録・管理できます。このガイドでは、基本的な使い方から便利な機能まで、わかりやすく説明します。

## 目次

1. [基本的な使い方](#基本的な使い方)
2. [収入・支出の登録](#収入支出の登録)
3. [記録の確認と編集](#記録の確認と編集)
4. [統計情報の見方](#統計情報の見方)
5. [フィルタリング機能](#フィルタリング機能)
6. [カテゴリ管理](#カテゴリ管理)
7. [よくある質問（FAQ）](#よくある質問faq)
8. [トラブルシューティング](#トラブルシューティング)

## 基本的な使い方

### 支出管理画面へのアクセス

1. Saifuuにログイン後、画面上部のナビゲーションメニューから「支出管理」をクリックします
2. 支出管理画面が表示されます

### 画面構成

支出管理画面は以下の3つのエリアで構成されています：

- **統計エリア**: 画面上部に収支の統計情報が表示されます
- **フィルタエリア**: 左側に絞り込み条件を設定できます
- **一覧エリア**: 中央に登録した取引の一覧が表示されます

## 収入・支出の登録

### 新規登録の手順

1. 画面右下の「＋」ボタンをクリックします
2. 登録フォームが表示されます
3. 必要な情報を入力します：
   - **金額**: 数値で入力（1〜1,000,000円）
   - **種別**: 「収入」または「支出」を選択
   - **カテゴリ**: プルダウンから選択
   - **説明**: 取引の詳細（任意・最大255文字）
   - **日付**: カレンダーから選択（デフォルトは今日）
4. 「登録」ボタンをクリックして保存します

### 入力のコツ

- **金額**: カンマは自動で表示されるので、数字のみ入力してください
- **カテゴリ**: よく使うカテゴリは上位に表示されます
- **説明**: 後で見返したときにわかるよう、具体的に記入しましょう
  - 良い例: 「スーパー○○で食材購入」
  - 悪い例: 「買い物」

## 記録の確認と編集

### 一覧の見方

取引一覧には以下の情報が表示されます：

- **日付**: 取引が発生した日
- **金額**: 収入は緑色で「+」、支出は赤色で「-」表示
- **カテゴリ**: アイコンとカテゴリ名
- **説明**: 登録時に入力した詳細

### 編集方法

1. 編集したい取引の行にある「編集」ボタンをクリックします
2. 編集フォームが表示されます
3. 必要な項目を修正します
4. 「更新」ボタンをクリックして保存します

### 削除方法

1. 削除したい取引の行にある「削除」ボタンをクリックします
2. 確認ダイアログが表示されます
3. 「削除する」をクリックすると取引が削除されます

**注意**: 削除した取引は復元できません

## 統計情報の見方

### 表示される統計

画面上部に以下の統計情報が表示されます：

- **総支出**: 選択期間の支出合計額
- **総収入**: 選択期間の収入合計額
- **収支バランス**: 収入から支出を引いた差額
  - プラスの場合: 緑色で表示（黒字）
  - マイナスの場合: 赤色で表示（赤字）

### 期間の切り替え

統計エリアの右上にある期間選択で、以下を切り替えられます：

- **今月**: 当月1日から今日まで
- **先月**: 前月の1日から末日まで
- **今年**: 当年1月1日から今日まで
- **カスタム**: 任意の期間を指定

## フィルタリング機能

### 絞り込み条件

以下の条件で取引を絞り込めます：

#### 種別フィルタ
- **すべて**: 収入・支出両方を表示
- **収入のみ**: 収入取引のみ表示
- **支出のみ**: 支出取引のみ表示

#### カテゴリフィルタ
- チェックボックスで複数選択可能
- 「すべて選択/解除」で一括操作

#### 期間フィルタ
- **開始日**: この日付以降の取引を表示
- **終了日**: この日付以前の取引を表示

### フィルタの適用とリセット

- **適用**: 条件を設定後、自動的に適用されます
- **リセット**: 「条件をクリア」ボタンですべての条件を解除

## カテゴリ管理

### デフォルトカテゴリ

以下のカテゴリが最初から用意されています：

**支出カテゴリ（11種類）**
- 家賃・水道・光熱・通信費
- 住居費
- 食費
- 交通費
- 仕事・ビジネス
- システム関係費
- 書籍代
- 健康・フィットネス
- 買い物
- その他
- 娯楽（映画、ゲーム、音楽、趣味など）

**注**: 現在は支出カテゴリのみサポートしています。収入カテゴリは廃止されました。

### カテゴリ管理について

カテゴリは設定ファイル（`shared/config/categories.ts`）で管理されており、固定されています。カスタムカテゴリの追加機能は現在提供されていません。

## よくある質問（FAQ）

### Q: 過去の日付で登録できますか？

A: はい、日付選択で過去の任意の日付を選択して登録できます。

### Q: 一度削除した取引を復元できますか？

A: 申し訳ございませんが、削除した取引の復元機能は現在ありません。削除前に必ず確認してください。

### Q: スマートフォンでも使えますか？

A: はい、レスポンシブデザインに対応しているため、スマートフォンやタブレットでも快適にご利用いただけます。

### Q: データをエクスポートできますか？

A: 現在、CSV/PDFエクスポート機能は開発中です。今後のアップデートでご利用いただける予定です。

### Q: 定期的な収入・支出を自動登録できますか？

A: 定期取引の自動登録機能は現在開発中です。現在は手動での登録をお願いします。

## トラブルシューティング

### 登録ボタンが押せない

**原因と対処法:**
- 必須項目（金額、種別、カテゴリ、日付）がすべて入力されているか確認してください
- 金額が正しい範囲（1〜1,000,000円）内か確認してください

### カテゴリが表示されない

**原因と対処法:**
- ページを再読み込みしてみてください（F5キーまたはブラウザの更新ボタン）
- それでも解決しない場合は、ブラウザのキャッシュをクリアしてください

### 統計情報が正しく表示されない

**原因と対処法:**
- フィルタが適用されていないか確認してください
- 期間設定が正しいか確認してください
- ページを再読み込みしてみてください

### データが保存されない

**原因と対処法:**
- インターネット接続を確認してください
- ブラウザの開発者ツール（F12）でエラーが出ていないか確認してください
- 一時的にサーバーに問題がある可能性があります。しばらく待ってから再度お試しください

### その他の問題

上記で解決しない問題が発生した場合は、以下の情報と共にサポートまでご連絡ください：

- 使用しているブラウザとバージョン
- 発生した問題の詳細
- エラーメッセージ（表示されている場合）
- 問題が発生した際の操作手順

## 便利な使い方のヒント

### 1. こまめな記録

支出が発生したらすぐに記録する習慣をつけましょう。レシートを見ながら後でまとめて入力するより、その場で入力する方が正確です。

### 2. 説明欄の活用

説明欄に詳細を記入しておくと、後で見返したときに「何に使ったか」がすぐにわかります。特に「その他」カテゴリを使用する場合は必須です。

### 3. 定期的な確認

月末や週末など、定期的に統計情報を確認する習慣をつけましょう。支出の傾向が見えてきます。

### 4. カテゴリの使い分け

似たような支出でも、目的によってカテゴリを使い分けると、より詳細な分析が可能になります。

## アップデート予定

以下の機能を今後追加予定です：

- カスタムカテゴリの作成・編集機能
- データのCSV/PDFエクスポート機能
- 定期取引の自動登録機能
- 予算管理機能
- グラフ表示の充実
- 複数通貨対応

---

**作成日**: 2025年7月13日  
**更新日**: 2025年7月13日  
**関連Issue**: #99