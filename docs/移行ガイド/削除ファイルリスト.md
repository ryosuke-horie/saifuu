# Zodバリデーション移行後の削除ファイルリスト

## 削除タイミング

移行が完了し、全てのテストが通過した後に以下のファイルを削除します。

## API側削除ファイル

### バリデーション関連
- [ ] `/api/src/validation/schemas.ts` - 既存のバリデーションスキーマ定義
- [ ] `/api/src/validation/index.ts` - 既存のバリデーションエクスポート
- [ ] `/api/src/validation/__tests__/schemas.test.ts` - 既存バリデーションのテスト

### APIルート（Zod版に置き換え）
- [ ] `/api/src/routes/transactions.ts` → `transactions-with-zod.ts`に置き換え
- [ ] `/api/src/routes/subscriptions.ts` → `subscriptions-with-zod.ts`に置き換え
- [ ] `/api/src/__tests__/unit/transactions.test.ts` - 既存版のテスト
- [ ] `/api/src/__tests__/unit/subscriptions.test.ts` - 既存版のテスト

### エントリポイント
- [ ] `/api/src/index.tsx` - 既存版（`index-with-zod.tsx`に置き換え）
- [ ] `/api/src/index-switchable.tsx` - 移行用の切り替えファイル（移行後不要）

## フロントエンド側削除ファイル

### バリデーション関連
- [ ] `/frontend/src/lib/validation/form-validation.ts` - 既存のフォームバリデーション
- [ ] `/frontend/src/lib/validation/form-validation.test.ts` - 既存バリデーションのテスト

### コンポーネント（Zod版に置き換え）
- [ ] `/frontend/src/components/expenses/ExpenseForm.tsx` → `ExpenseFormWithZod.tsx`に置き換え

## 共有パッケージ側削除ファイル

- [ ] `/shared/src/validation/index.ts` - 既存の共通バリデーション定義
- [ ] `/shared/src/validation/__tests__/index.test.ts` - 既存バリデーションのテスト

## リネーム予定ファイル

移行完了後、以下のファイルをリネームします：

### API
- `transactions-with-zod.ts` → `transactions.ts`
- `subscriptions-with-zod.ts` → `subscriptions.ts`
- `index-with-zod.tsx` → `index.tsx`

### フロントエンド
- `ExpenseFormWithZod.tsx` → `ExpenseForm.tsx`
- `zod-validation.ts` → `validation.ts`

### テストファイル
- `transactions-with-zod.test.ts` → `transactions.test.ts`
- `subscriptions-with-zod.test.ts` → `subscriptions.test.ts`
- `zod-validation.test.ts` → `validation.test.ts`

## 削除前チェックリスト

削除前に以下を確認：

- [ ] 全てのユニットテストが通過
- [ ] E2Eテストが通過
- [ ] 本番環境でのスモークテスト完了
- [ ] パフォーマンステストで問題なし
- [ ] ロールバック手順の確認

## 削除コマンド例

```bash
# バックアップを作成
git checkout -b backup/pre-zod-deletion

# 削除実行
rm api/src/validation/schemas.ts
rm api/src/validation/index.ts
rm api/src/routes/transactions.ts
rm api/src/routes/subscriptions.ts
# ... 他のファイルも同様に

# リネーム実行
mv api/src/routes/transactions-with-zod.ts api/src/routes/transactions.ts
mv api/src/routes/subscriptions-with-zod.ts api/src/routes/subscriptions.ts
# ... 他のファイルも同様に

# コミット
git add -A
git commit -m "refactor: Zodバリデーションへの完全移行 - 既存バリデーションコードを削除"
```